<!-- Authentication UI Modal - Add to index.html -->

<!-- Login/Register Modal -->
<div id="authModal" class="modal">
    <div class="modal-content modal-small">
        <div class="modal-header">
            <h2 id="authModalTitle">Login</h2>
            <button id="closeAuthModalBtn" class="btn btn-ghost">‚úï</button>
        </div>
        <div class="modal-body">
            <!-- Login Form -->
            <div id="loginForm" class="auth-form">
                <div class="form-group">
                    <label for="loginUsername">Username o Email</label>
                    <input type="text" id="loginUsername" class="form-input" placeholder="username" autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="current-password">
                </div>
                <div class="modal-footer">
                    <button id="switchToRegisterBtn" class="btn btn-ghost">Non hai un account? Registrati</button>
                    <button id="loginSubmitBtn" class="btn btn-primary">Login</button>
                </div>
            </div>

            <!-- Register Form -->
            <div id="registerForm" class="auth-form" style="display: none;">
                <div class="form-group">
                    <label for="registerUsername">Username</label>
                    <input type="text" id="registerUsername" class="form-input" placeholder="username" autocomplete="username">
                </div>
                <div class="form-group">
                    <label for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" class="form-input" placeholder="email@example.com" autocomplete="email">
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="new-password">
                </div>
                <div class="form-group">
                    <label for="registerPasswordConfirm">Conferma Password</label>
                    <input type="password" id="registerPasswordConfirm" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" autocomplete="new-password">
                </div>
                <div class="modal-footer">
                    <button id="switchToLoginBtn" class="btn btn-ghost">Hai gi√† un account? Login</button>
                    <button id="registerSubmitBtn" class="btn btn-primary">Registrati</button>
                </div>
            </div>

            <!-- Sync Status -->
            <div id="syncStatus" style="display: none; margin-top: 1rem; padding: 1rem; background: var(--bg-input); border-radius: 0.5rem;">
                <p id="syncMessage" style="margin: 0; color: var(--text-secondary);"></p>
            </div>
        </div>
    </div>
</div>

<!-- User Menu (add to header) -->
<div class="user-menu" id="userMenu" style="display: none;">
    <span id="userMenuUsername">User</span>
    <button id="syncBtn" class="btn btn-secondary" title="Sincronizza dati">üîÑ Sync</button>
    <button id="logoutBtn" class="btn btn-ghost">Logout</button>
</div>

<button id="loginMenuBtn" class="btn btn-secondary">üîê Login</button>

<style>
.user-menu {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.user-menu span {
    font-weight: 600;
    color: var(--text-primary);
}

.auth-form {
    animation: fadeIn 0.3s;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

#syncStatus {
    animation: slideDown 0.3s;
}

@keyframes slideDown {
    from { opacity: 0; max-height: 0; }
    to { opacity: 1; max-height: 100px; }
}
</style>

